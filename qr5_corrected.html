<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alternativas Épicas - QR #5</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@300;400;500&display=swap');
        
        :root {
            --primary-bg: #1a1a2e;
            --secondary-bg: #16213e;
            --accent-purple: #9966ff;
            --accent-pink: #ff6b9d;
            --accent-cyan: #00ffff;
            --accent-orange: #ff9500;
            --text-primary: #eee;
            --text-secondary: #aaa;
            --fun-gradient: linear-gradient(45deg, #9966ff, #ff6b9d, #00ffff);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto Mono', monospace;
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 30% 20%, rgba(153, 102, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(255, 107, 157, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(0, 255, 255, 0.05) 0%, transparent 50%);
            animation: funFlow 30s ease-in-out infinite;
            z-index: -1;
        }
        
        @keyframes funFlow {
            0%, 100% { transform: rotate(0deg) scale(1); }
            33% { transform: rotate(120deg) scale(1.1); }
            66% { transform: rotate(240deg) scale(0.9); }
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(153, 102, 255, 0.1);
            border: 2px solid var(--accent-purple);
            border-radius: 15px;
            box-shadow: 0 0 20px var(--accent-purple);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '🚀';
            font-size: 4em;
            position: absolute;
            top: -10px;
            right: -10px;
            opacity: 0.1;
            animation: rocketSpin 8s linear infinite;
        }
        
        @keyframes rocketSpin {
            0% { transform: rotate(0deg) translateY(0px); }
            25% { transform: rotate(90deg) translateY(-10px); }
            50% { transform: rotate(180deg) translateY(-5px); }
            75% { transform: rotate(270deg) translateY(-15px); }
            100% { transform: rotate(360deg) translateY(0px); }
        }
        
        .header h1 {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.4em;
            background: var(--fun-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            animation: textShine 3s ease-in-out infinite;
        }
        
        @keyframes textShine {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
        }
        
        .subtitle {
            font-family: 'Orbitron', sans-serif;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }
        
        .fun-badge {
            display: inline-block;
            background: var(--fun-gradient);
            color: var(--primary-bg);
            padding: 10px 20px;
            border-radius: 25px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            margin: 10px 0;
            box-shadow: 0 5px 15px rgba(153, 102, 255, 0.3);
            animation: badgePulse 2s infinite;
        }
        
        @keyframes badgePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .section:hover {
            border-color: var(--accent-purple);
            box-shadow: 0 5px 25px rgba(153, 102, 255, 0.2);
            transform: translateY(-5px);
        }
        
        .section h2 {
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            color: var(--accent-purple);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .icon {
            font-size: 1.2em;
        }
        
        /* Plan Generator */
        .plan-generator {
            background: var(--fun-gradient);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            color: var(--primary-bg);
            position: relative;
            overflow: hidden;
        }
        
        .plan-generator::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .generator-title {
            font-family: 'Press Start 2P', cursive;
            color: var(--primary-bg);
            text-align: center;
            margin-bottom: 25px;
            font-size: 1em;
            position: relative;
            z-index: 1;
        }
        
        .parameter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
            position: relative;
            z-index: 1;
        }
        
        .parameter-group {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
        }
        
        .parameter-label {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: var(--primary-bg);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .parameter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .parameter-button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: var(--primary-bg);
            padding: 8px 15px;
            border-radius: 20px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .parameter-button:hover {
            background: rgba(255, 255, 255, 0.4);
            border-color: rgba(255, 255, 255, 0.6);
            transform: scale(1.05);
        }
        
        .parameter-button.selected {
            background: var(--primary-bg);
            color: var(--accent-purple);
            border-color: var(--primary-bg);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        
        .generate-button {
            background: var(--primary-bg);
            color: var(--accent-purple);
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 25px auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
        }
        
        .generate-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }
        
        /* Generated Plan Display */
        .generated-plan {
            background: rgba(255, 107, 157, 0.1);
            border: 2px solid var(--accent-pink);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            display: none;
        }
        
        .generated-plan.show {
            display: block;
            animation: planAppear 0.6s ease;
        }
        
        @keyframes planAppear {
            from { opacity: 0; transform: scale(0.9) rotateX(-10deg); }
            to { opacity: 1; transform: scale(1) rotateX(0deg); }
        }
        
        .plan-title {
            font-family: 'Press Start 2P', cursive;
            color: var(--accent-pink);
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        
        .plan-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .plan-detail {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .detail-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .detail-value {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: var(--accent-cyan);
            font-size: 1.2em;
        }
        
        .detail-label {
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-top: 5px;
        }
        
        .plan-description {
            background: rgba(0, 255, 255, 0.1);
            border-left: 4px solid var(--accent-cyan);
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .activity-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .category-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .category-card:hover {
            border-color: var(--accent-orange);
            box-shadow: 0 5px 20px rgba(255, 149, 0, 0.2);
            transform: translateY(-5px);
        }
        
        .category-title {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: var(--accent-orange);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .activity-list {
            list-style: none;
            padding: 0;
        }
        
        .activity-list li {
            margin: 10px 0;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 3px solid transparent;
        }
        
        .activity-list li:hover {
            background: rgba(255, 149, 0, 0.2);
            border-left-color: var(--accent-orange);
            transform: translateX(10px);
        }
        
        .fun-rating {
            display: inline-block;
            background: var(--accent-orange);
            color: var(--primary-bg);
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 0.8em;
            font-weight: 700;
            margin-left: 10px;
        }
        
        /* Interactive Tools */
        .interactive-tools {
            background: rgba(0, 255, 255, 0.1);
            border: 2px solid var(--accent-cyan);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .tool-button {
            background: linear-gradient(45deg, var(--accent-cyan), #00cccc);
            color: var(--primary-bg);
            border: none;
            padding: 15px 20px;
            border-radius: 20px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
        }
        
        .tool-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 255, 255, 0.4);
        }
        
        /* Favorites System */
        .favorites-section {
            background: rgba(255, 107, 157, 0.1);
            border: 2px solid var(--accent-pink);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .favorites-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .favorite-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .favorite-item:hover {
            border-color: var(--accent-pink);
            transform: scale(1.02);
        }
        
        .rating-stars {
            color: var(--accent-orange);
            margin: 5px 0;
        }
        
        @media (max-width: 768px) {
            .parameter-grid {
                grid-template-columns: 1fr;
            }
            
            .plan-details {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .activity-categories {
                grid-template-columns: 1fr;
            }
            
            .tools-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>🚀 ALTERNATIVAS ÉPICAS</h1>
            <p class="subtitle">Generador de Diversión Sin Límites</p>
            <div class="fun-badge">⚡ FUN ROCKET ACTIVATED</div>
        <!-- OMS Message Section -->
<div class="section">
    <h2><span class="icon">🩺</span> Mensaje Clave OMS</h2>
    <p><strong>OMS 2024:</strong> No existe un nivel seguro de consumo de alcohol; incluso niveles bajos conllevan riesgos para la salud.</p>
</div>
</div>

        <!-- Plan Generator -->
        <div class="section">
            <h2><span class="icon">🎲</span> Generador de Planes Épicos</h2>
            
            <div class="plan-generator">
                <div class="generator-title">🎯 CONFIGURADOR DE DIVERSIÓN</div>
                
                <div class="parameter-grid">
                    <div class="parameter-group">
                        <div class="parameter-label">💰 Presupuesto:</div>
                        <div class="parameter-options">
                            <button class="parameter-button" data-budget="free" onclick="selectParameter(this)">0€</button>
                            <button class="parameter-button" data-budget="low" onclick="selectParameter(this)">1-10€</button>
                            <button class="parameter-button" data-budget="medium" onclick="selectParameter(this)">11-25€</button>
                            <button class="parameter-button" data-budget="high" onclick="selectParameter(this)">25€+</button>
                        </div>
                    </div>
                    
                    <div class="parameter-group">
                        <div class="parameter-label">👥 Grupo:</div>
                        <div class="parameter-options">
                            <button class="parameter-button" data-group="solo" onclick="selectParameter(this)">Solo</button>
                            <button class="parameter-button" data-group="small" onclick="selectParameter(this)">2-4</button>
                            <button class="parameter-button" data-group="medium" onclick="selectParameter(this)">5-8</button>
                            <button class="parameter-button" data-group="large" onclick="selectParameter(this)">9+</button>
                        </div>
                    </div>
                    
                    <div class="parameter-group">
                        <div class="parameter-label">⏰ Horario:</div>
                        <div class="parameter-options">
                            <button class="parameter-button" data-time="afternoon" onclick="selectParameter(this)">Tarde</button>
                            <button class="parameter-button" data-time="evening" onclick="selectParameter(this)">Noche</button>
                            <button class="parameter-button" data-time="late" onclick="selectParameter(this)">Madrugón</button>
                        </div>
                    </div>
                    
                    <div class="parameter-group">
                        <div class="parameter-label">⚡ Energía:</div>
                        <div class="parameter-options">
                            <button class="parameter-button" data-energy="chill" onclick="selectParameter(this)">Relax</button>
                            <button class="parameter-button" data-energy="medium" onclick="selectParameter(this)">Medio</button>
                            <button class="parameter-button" data-energy="high" onclick="selectParameter(this)">Full Energy</button>
                        </div>
                    </div>
                </div>
                
                <button class="generate-button" onclick="generateEpicPlan()">
                    🎲 GENERAR PLAN ÉPICO
                </button>
            </div>
            
            <div class="generated-plan" id="generatedPlan">
                <div class="plan-title" id="planTitle">Tu Plan Épico</div>
                
                <div class="plan-details">
                    <div class="plan-detail">
                        <div class="detail-icon">⭐</div>
                        <div class="detail-value" id="funRating">9.2/10</div>
                        <div class="detail-label">Diversión Rating</div>
                    </div>
                    <div class="plan-detail">
                        <div class="detail-icon">💰</div>
                        <div class="detail-value" id="costPerPerson">12€</div>
                        <div class="detail-label">Coste por persona</div>
                    </div>
                    <div class="plan-detail">
                        <div class="detail-icon">🧠</div>
                        <div class="detail-value" id="memoryRating">ÉPICOS</div>
                        <div class="detail-label">Recuerdos que quedarán</div>
                    </div>
                    <div class="plan-detail">
                        <div class="detail-icon">⏱️</div>
                        <div class="detail-value" id="duration">3-4h</div>
                        <div class="detail-label">Duración estimada</div>
                    </div>
                </div>
                
                <div class="plan-description">
                    <div style="font-family: 'Orbitron', sans-serif; font-weight: 700; color: var(--accent-cyan); margin-bottom: 10px;">
                        📋 DESCRIPCIÓN DEL PLAN:
                    </div>
                    <div id="planDescription">Tu plan personalizado aparecerá aquí...</div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="tool-button" onclick="saveFavoritePlan()">💝 GUARDAR EN FAVORITOS</button>
                    <button class="tool-button" onclick="sharePlan()">📱 COMPARTIR PLAN</button>
                    <button class="tool-button" onclick="generateAlternative()">🔄 GENERAR ALTERNATIVA</button>
                </div>
            </div>
        </div>

        <!-- Activity Database -->
        <div class="section">
            <h2><span class="icon">🎮</span> Base de Datos de Actividades</h2>
            
            <div class="activity-categories">
                <div class="category-card">
                    <div class="category-title">🏠 CASA/INTERIOR (0-15€)</div>
                    <ul class="activity-list">
                        <li onclick="rateActivity(this)">🔍 Escape room DIY con códigos QR <span class="fun-rating">9.5</span></li>
                        <li onclick="rateActivity(this)">🎮 Torneo videojuegos con premios random <span class="fun-rating">9.2</span></li>
                        <li onclick="rateActivity(this)">👨‍🍳 Master Chef challenge con ingredientes locos <span class="fun-rating">8.8</span></li>
                        <li onclick="rateActivity(this)">🎬 Maratón película + drinking game de refrescos <span class="fun-rating">8.5</span></li>
                        <li onclick="rateActivity(this)">🎤 Karaoke battle con temas épicos <span class="fun-rating">9.0</span></li>
                        <li onclick="rateActivity(this)">🎨 Workshop creativo: arte, música, TikToks <span class="fun-rating">8.7</span></li>
                    </ul>
                </div>
                
                <div class="category-card">
                    <div class="category-title">🌃 NOCHE EN LA CIUDAD (10-30€)</div>
                    <ul class="activity-list">
                        <li onclick="rateActivity(this)">🎳 Bowling nocturno con luces neón <span class="fun-rating">9.1</span></li>
                        <li onclick="rateActivity(this)">🔫 Laser tag o paintball bajo techo <span class="fun-rating">9.4</span></li>
                        <li onclick="rateActivity(this)">⛳ Minigolf temático + cena fast-food épica <span class="fun-rating">8.6</span></li>
                        <li onclick="rateActivity(this)">🍿 Cine con palomitas industriales <span class="fun-rating">8.3</span></li>
                        <li onclick="rateActivity(this)">🎱 Billar/ping-pong + competición por equipos <span class="fun-rating">8.9</span></li>
                        <li onclick="rateActivity(this)">🏛️ Museos nocturnos con actividades especiales <span class="fun-rating">8.4</span></li>
                    </ul>
                </div>
                
                <div class="category-card">
                    <div class="category-title">🌟 EXPERIENCIAS ESPECIALES (30€+)</div>
                    <ul class="activity-list">
                        <li onclick="rateActivity(this)">🔐 Escape room profesional + cena temática <span class="fun-rating">9.6</span></li>
                        <li onclick="rateActivity(this)">🏎️ Karting nocturno <span class="fun-rating">9.8</span></li>
                        <li onclick="rateActivity(this)">🎵 Concierto/festival (sin alcohol) <span class="fun-rating">9.3</span></li>
                        <li onclick="rateActivity(this)">🌲 Parque aventura/tirolinas <span class="fun-rating">9.5</span></li>
                        <li onclick="rateActivity(this)">🎪 Espectáculos temáticos (circo, teatro, shows) <span class="fun-rating">8.8</span></li>
                        <li onclick="rateActivity(this)">🍕 Workshop gastronómico profesional <span class="fun-rating">8.7</span></li>
                    </ul>
                </div>
            </div>
            
            <div style="background: rgba(0, 255, 136, 0.1); padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h3 style="color: var(--accent-cyan); text-align: center; margin-bottom: 15px;">
                    ✅ TODAS CON GARANTÍA ÉPICA:
                </h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; text-align: center;">
                    <div>✓ Recuerdos duraderos</div>
                    <div>✓ Fotos épicas para redes</div>
                    <div>✓ Cero resaca al día siguiente</div>
                    <div>✓ Dinero ahorrado para más planes</div>
                </div>
            </div>
        </div>

        <!-- Interactive Tools -->
        <div class="section">
            <h2><span class="icon">🛠️</span> Herramientas Interactivas</h2>
            
            <div class="interactive-tools">
                <h3 style="color: var(--accent-cyan); text-align: center; margin-bottom: 20px;">
                    🎯 OPTIMIZA TU DIVERSIÓN
                </h3>
                
                <div class="tools-grid">
                    <button class="tool-button" onclick="planRoulette()">🎲 RULETA DE PLANES</button>
                    <button class="tool-button" onclick="moodMatcher()">😊 MOOD MATCHER</button>
                    <button class="tool-button" onclick="weatherPlanner()">🌤️ PLANNER SEGÚN CLIMA</button>
                    <button class="tool-button" onclick="budgetOptimizer()">💰 OPTIMIZADOR PRESUPUESTO</button>
                    <button class="tool-button" onclick="groupCompatibility()">👥 TEST COMPATIBILIDAD GRUPO</button>
                    <button class="tool-button" onclick="trendingActivities()">📈 ACTIVIDADES TRENDING</button>
                </div>
            </div>
        </div>

        <!-- Favorites and Rating System -->
        <div class="section">
            <h2><span class="icon">💝</span> Mis Planes Favoritos</h2>
            
            <div class="favorites-section">
                <h3 style="color: var(--accent-pink); text-align: center; margin-bottom: 20px;">
                    ⭐ TUS PLANES MEJOR VALORADOS
                </h3>
                
                <div class="favorites-grid" id="favoritesGrid">
                    <div class="favorite-item">
                        <div style="font-weight: bold; color: var(--accent-pink);">🎮 Torneo Gaming + Pizza</div>
                        <div class="rating-stars">⭐⭐⭐⭐⭐</div>
                        <div style="font-size: 0.9em; color: var(--text-secondary);">Repetido 2 veces | Diversión: 9.2/10</div>
                    </div>
                    <div class="favorite-item">
                        <div style="font-weight: bold; color: var(--accent-pink);">🎳 Bowling Nocturno</div>
                        <div class="rating-stars">⭐⭐⭐⭐</div>
                        <div style="font-size: 0.9em; color: var(--text-secondary);">Repetido 1 vez | Diversión: 8.8/10</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="tool-button" onclick="exportFavorites()">📤 EXPORTAR LISTA</button>
                    <button class="tool-button" onclick="shareWithFriends()">👥 COMPARTIR CON AMIGOS</button>
                    <button class="tool-button" onclick="planningCalendar()">📅 PLANIFICAR EN CALENDARIO</button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 40px; padding: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1); color: var(--text-secondary);">
            <p>🚀 CONCIENCIA CON CIENCIA LIVE | Diversión Sin Límites</p>
            <p>La vida es demasiado corta para planes aburridos</p>
            <p><strong>¡Cada plan épico es una inversión en felicidad!</strong></p>
        </div>
    </div>

    <script>
        let selectedParameters = {
            budget: null,
            group: null,
            time: null,
            energy: null
        };
        
        function selectParameter(button) {
            // Remove selection from siblings
            const siblings = button.parentElement.querySelectorAll('.parameter-button');
            siblings.forEach(btn => btn.classList.remove('selected'));
            
            // Add selection to clicked button
            button.classList.add('selected');
            
            // Store selection
            const paramType = Object.keys(button.dataset)[0];
            selectedParameters[paramType] = button.dataset[paramType];
        }
        
        function generateEpicPlan() {
            // Check if all parameters are selected
            if (Object.values(selectedParameters).includes(null)) {
                alert('⚠️ Por favor, selecciona todos los parámetros para generar tu plan épico');
                return;
            }
            
            // Generate plan based on selections
            const plan = createCustomPlan(selectedParameters);
            
            // Update display
            document.getElementById('planTitle').textContent = plan.title;
            document.getElementById('funRating').textContent = plan.funRating + '/10';
            document.getElementById('costPerPerson').textContent = plan.cost;
            document.getElementById('memoryRating').textContent = plan.memories;
            document.getElementById('duration').textContent = plan.duration;
            document.getElementById('planDescription').textContent = plan.description;
            
            // Show generated plan
            document.getElementById('generatedPlan').classList.add('show');
            document.getElementById('generatedPlan').scrollIntoView({ behavior: 'smooth' });
        }
        
        function createCustomPlan(params) {
            const plans = {
                "free-small-evening-medium": {
                    title: "🎮 Noche Gaming + Snacks Caseros",
                    description: "Torneo de videojuegos cooperativos con snacks caseros épicos. Incluye: selección de 3 juegos diferentes, preparación de palomitas gourmet y competición por equipos con premios simbólicos.",
                    funRating: 9.2,
                    cost: "0€",
                    memories: "ÉPICOS",
                    duration: "3-4h"
                },
                "low-small-evening-chill": {
                    title: "☕ Café + Charla Profunda",
                    description: "Sesión de café en lugar acogedor con conversaciones profundas sobre vida, sueños y teorías random. Incluye: café/té para todos, ambiente relajado y conexión real entre amigos.",
                    funRating: 8.5,
                    cost: "3-5€",
                    memories: "PROFUNDOS",
                    duration: "2-3h"
                },
                "medium-medium-evening-high": {
                    title: "🎳 Bowling + Fast Food Battle",
                    description: "Competición de bowling seguida de batalla gastronómica en fast food. Incluye: 2 partidas de bowling, cena en grupo y competición de 'mejor combinación de comida'.",
                    funRating: 9.0,
                    cost: "15-20€",
                    memories: "DIVERTIDOS",
                    duration: "3-4h"
                }
            };
            
            // Create key from parameters
            const key = `${params.budget}-${params.group}-${params.time}-${params.energy}`;
            
            // Return specific plan or generate random one
            if (plans[key]) {
                return plans[key];
            } else {
                return generateRandomPlan(params);
            }
        }
        
        function generateRandomPlan(params) {
            const randomTitles = [
                "🎯 Adventure Challenge Personalizado",
                "🌟 Experiencia Única de Grupo", 
                "🚀 Misión Diversión Extrema",
                "💫 Plan Sorpresa Épico",
                "🎪 Aventura Improvisada"
            ];
            
            const randomActivities = [
                "Búsqueda del tesoro urbana con pistas QR",
                "Competición de TikToks creativos",
                "Escape room casero con temática actual",
                "Torneo de juegos retro + comida temática",
                "Noche de karaoke + concurso de baile"
            ];
            
            return {
                title: randomTitles[Math.floor(Math.random() * randomTitles.length)],
                description: randomActivities[Math.floor(Math.random() * randomActivities.length)],
                funRating: (8.0 + Math.random() * 2).toFixed(1),
                cost: params.budget === 'free' ? '0€' : params.budget === 'low' ? '5-10€' : params.budget === 'medium' ? '15-25€' : '30€+',
                memories: ['ÉPICOS', 'INCREÍBLES', 'DIVERTIDOS', 'ÚNICOS'][Math.floor(Math.random() * 4)],
                duration: ['2-3h', '3-4h', '4-5h'][Math.floor(Math.random() * 3)]
            };
        }
        
        function saveFavoritePlan() {
            const plan = {
                title: document.getElementById('planTitle').textContent,
                rating: document.getElementById('funRating').textContent,
                cost: document.getElementById('costPerPerson').textContent,
                description: document.getElementById('planDescription').textContent,
                timestamp: new Date().toLocaleDateString()
            };
            
            alert('💝 Plan guardado en favoritos!\n\n' + plan.title + '\nRating: ' + plan.rating);
            updateFavoritesDisplay();
        }
        
        function updateFavoritesDisplay() {
            console.log('Favoritos actualizados');
        }
        
        function sharePlan() {
            const title = document.getElementById('planTitle').textContent;
            const description = document.getElementById('planDescription').textContent;
            const rating = document.getElementById('funRating').textContent;
            
            const shareText = `🚀 Plan épico generado:\n\n${title}\n\n${description}\n\n⭐ Rating: ${rating}\n\n#AlternativasEpicas #ConcienciaConCiencia #DiversionSinLimites`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Mi Plan Épico',
                    text: shareText,
                    url: window.location.href
                });
            } else if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('✅ Plan copiado para compartir en tus redes');
                });
            } else {
                alert('📋 ' + shareText);
            }
        }
        
        function generateAlternative() {
            generateEpicPlan();
        }
        
        function rateActivity(element) {
            const activity = element.textContent;
            const ratings = ['8.0', '8.5', '9.0', '9.2', '9.5', '9.8'];
            const newRating = ratings[Math.floor(Math.random() * ratings.length)];
            
            // Update rating display
            const ratingSpan = element.querySelector('.fun-rating');
            if (ratingSpan) {
                ratingSpan.textContent = newRating;
                ratingSpan.style.background = 'var(--accent-cyan)';
                setTimeout(() => {
                    ratingSpan.style.background = 'var(--accent-orange)';
                }, 1000);
            }
            
            // Visual feedback
            element.style.background = 'rgba(0, 255, 255, 0.3)';
            setTimeout(() => {
                element.style.background = 'rgba(255, 255, 255, 0.05)';
            }, 1500);
            
            alert(`⭐ Has valorado: "${activity.split(' span')[0]}"\nTu rating: ${newRating}/10`);
        }
        
        // Interactive Tools Functions
        function planRoulette() {
            const activities = [
                "🎮 Torneo gaming épico",
                "🎳 Bowling nocturno",
                "🍕 Master Chef challenge",
                "🎤 Karaoke battle",
                "🔍 Escape room casero",
                "🏃‍♂️ Competición deportiva",
                "🎨 Workshop creativo",
                "📸 Photo challenge urbano"
            ];
            
            const finalActivity = activities[Math.floor(Math.random() * activities.length)];
            alert(`🎉 ¡RESULTADO FINAL!\n\n${finalActivity}\n\n¿Te apuntas a este plan?`);
        }
        
        function moodMatcher() {
            const moods = {
                "😴 Cansado pero sociable": ["☕ Café + charla profunda", "🍿 Maratón de pelis", "🎲 Juegos de mesa relajados"],
                "⚡ Súper energético": ["🏃‍♂️ Competición deportiva", "🎤 Karaoke dancing", "🎮 Torneo intenso"],
                "🤔 Creativo y curioso": ["🎨 Workshop artístico", "🔍 Escape room", "📸 Photo challenge"],
                "😊 Feliz y celebrativo": ["🎉 Fiesta en casa", "🎳 Bowling + cena", "🎪 Experiencia nueva"]
            };
            
            const moodKeys = Object.keys(moods);
            const selectedMood = moodKeys[Math.floor(Math.random() * moodKeys.length)];
            const suggestions = moods[selectedMood];
            
            let suggestionText = `🎯 MOOD DETECTADO: ${selectedMood}\n\n💡 PLANES PERFECTOS PARA TI:\n\n`;
            suggestions.forEach((suggestion, index) => {
                suggestionText += `${index + 1}. ${suggestion}\n`;
            });
            suggestionText += '\n¿Cuál te llama más la atención?';
            
            alert(suggestionText);
        }
        
        function weatherPlanner() {
            const weatherConditions = [
                { condition: "☀️ Soleado", plans: ["🏖️ Picnic en parque", "🚴‍♂️ Ciclismo urbano", "⚽ Deportes al aire libre"] },
                { condition: "🌧️ Lluvioso", plans: ["🏠 Gaming en casa", "🎭 Teatro o cine", "☕ Café + conversación"] },
                { condition: "❄️ Frío", plans: ["🔥 Plan indoor cozy", "🎳 Bowling", "🍕 Cena caliente + juegos"] },
                { condition: "🌤️ Nublado", plans: ["📸 Photography walk", "🏛️ Museos", "🛍️ Centro comercial + actividades"] }
            ];
            
            const weather = weatherConditions[Math.floor(Math.random() * weatherConditions.length)];
            
            let planText = `🌤️ PREVISIÓN SIMULADA: ${weather.condition}\n\n🎯 PLANES IDEALES PARA ESTE CLIMA:\n\n`;
            weather.plans.forEach((plan, index) => {
                planText += `${index + 1}. ${plan}\n`;
            });
            planText += '\n💡 Consejo: Siempre ten un plan B para cualquier clima!';
            
            alert(planText);
        }
        
        function budgetOptimizer() {
            const budget = prompt('💰 ¿Cuál es tu presupuesto total para el plan? (en euros)');
            if (!budget || isNaN(budget)) {
                alert('⚠️ Por favor, introduce un número válido');
                return;
            }
            
            const amount = parseFloat(budget);
            let suggestions = [];
            
            if (amount === 0) {
                suggestions = [
                    "🏠 Planes en casa: gaming, películas, karaoke",
                    "🌳 Actividades al aire libre: parque, senderismo",
                    "📱 Crear contenido: TikToks, fotos, vlogs"
                ];
            } else if (amount <= 10) {
                suggestions = [
                    "☕ Café + merienda en grupo",
                    "🎮 Arcade por horas",
                    "🍦 Helados + paseo"
                ];
            } else if (amount <= 25) {
                suggestions = [
                    "🎳 Bowling 1-2 partidas",
                    "🍕 Pizza + refresco",
                    "🎬 Cine en sesión matinal"
                ];
            } else {
                suggestions = [
                    "🔍 Escape room profesional",
                    "🏎️ Karting",
                    "🎪 Experiencia premium"
                ];
            }
            
            let optimizerText = `💎 OPTIMIZACIÓN PARA ${amount}€:\n\n`;
            suggestions.forEach((suggestion, index) => {
                optimizerText += `${index + 1}. ${suggestion}\n`;
            });
            optimizerText += `\n💡 Tip: Divide entre ${Math.ceil(amount/10)} personas para maximizar diversión`;
            
            alert(optimizerText);
        }
        
        function groupCompatibility() {
            const traits = ['Gaming', 'Deportes', 'Arte', 'Música', 'Aventura', 'Relax'];
            const compatibility = Math.floor(Math.random() * 40) + 60;
            const strongPoint = traits[Math.floor(Math.random() * traits.length)];
            const suggestion = traits[Math.floor(Math.random() * traits.length)];
            
            alert(`👥 ANÁLISIS DE COMPATIBILIDAD DE GRUPO:\n\n📊 Compatibilidad: ${compatibility}%\n\n💪 Punto fuerte del grupo: ${strongPoint}\n🎯 Sugerencia: Actividades de ${suggestion}\n\n💡 Consejo: La diversidad de gustos hace los planes más ricos!`);
        }
        
        function trendingActivities() {
            const trending = [
                "🎮 Gaming cooperativo (Among Us, Fall Guys)",
                "📸 Photography challenges en Instagram",
                "🎵 Crear playlist colaborativas",
                "🍕 Cooking challenges de TikTok",
                "🎭 Improvisación y sketches",
                "🏃‍♂️ Fitness challenges en grupo"
            ];
            
            let trendingText = "📈 ACTIVIDADES TRENDING AHORA:\n\n";
            trending.forEach((activity, index) => {
                trendingText += `${index + 1}. ${activity}\n`;
            });
            trendingText += "\n🔥 Estas actividades están siendo las más populares entre adolescentes";
            
            alert(trendingText);
        }
        
        function exportFavorites() {
            alert('📤 EXPORTAR FAVORITOS:\n\n✅ Lista copiada al portapapeles\n\n• 🎮 Torneo Gaming + Pizza\n• 🔍 Escape Room Casero\n• 🎳 Bowling Nocturno');
        }
        
        function shareWithFriends() {
            alert('👥 COMPARTIR CON AMIGOS:\n\n• Copia el enlace de esta página\n• Envía tu lista de favoritos\n• Cread un grupo de planificación\n• Votad los mejores planes\n\n🎯 ¡La diversión se multiplica en grupo!');
        }
        
        function planningCalendar() {
            alert('📅 PLANIFICACIÓN EN CALENDARIO:\n\n• Usa Google Calendar o similar\n• Programa planes con antelación\n• Invita a tus amigos\n• Configura recordatorios\n• Alterna tipos de planes\n\n💡 Tip: Un plan semanal asegura diversión constante!');
        }
    </script>
</body>
</html>">⭐⭐⭐⭐⭐</div>
                        <div style="font-size: 0.9em; color: var(--text-secondary);">Repetido 3 veces | Diversión: 9.5/10</div>
                    </div>
                    <div class="favorite-item">
                        <div style="font-weight: bold; color: var(--accent-pink);">🔍 Escape Room Casero</div>
                        <div class="rating-stars
