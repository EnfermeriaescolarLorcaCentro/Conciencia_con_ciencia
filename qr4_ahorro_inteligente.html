<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ahorro Inteligente - QR #4</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@300;400;500&display=swap');
        
        :root {
            --primary-bg: #1a1a2e;
            --secondary-bg: #16213e;
            --accent-green: #00ff88;
            --accent-gold: #ffcc00;
            --accent-blue: #66ccff;
            --accent-red: #ff3366;
            --text-primary: #eee;
            --text-secondary: #aaa;
            --money-green: #00cc44;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto Mono', monospace;
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 204, 68, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 204, 0, 0.08) 0%, transparent 50%);
            animation: moneyFlow 25s linear infinite;
            z-index: -1;
        }
        
        @keyframes moneyFlow {
            0% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.05); }
            100% { transform: translateY(0) scale(1); }
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(0, 204, 68, 0.1);
            border: 2px solid var(--money-green);
            border-radius: 15px;
            box-shadow: 0 0 20px var(--money-green);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: 'üí∞';
            font-size: 4em;
            position: absolute;
            top: -10px;
            right: -10px;
            opacity: 0.1;
            animation: coinSpin 6s linear infinite;
        }
        
        @keyframes coinSpin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }
        
        .header h1 {
            font-family: 'Press Start 2P', cursive;
            font-size: 1.4em;
            color: var(--money-green);
            margin-bottom: 15px;
            text-shadow: 0 0 10px var(--money-green);
        }
        
        .money-badge {
            display: inline-block;
            background: linear-gradient(45deg, var(--money-green), #00ff66);
            color: var(--primary-bg);
            padding: 10px 20px;
            border-radius: 25px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            margin: 10px 0;
            box-shadow: 0 5px 15px rgba(0, 204, 68, 0.3);
        }
        
        .section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .section:hover {
            border-color: var(--money-green);
            box-shadow: 0 5px 25px rgba(0, 204, 68, 0.2);
        }
        
        .section h2 {
            font-family: 'Orbitron', sans-serif;
            font-weight: 900;
            color: var(--money-green);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Calculator Styles */
        .savings-calculator {
            background: linear-gradient(135deg, rgba(0, 204, 68, 0.1), rgba(255, 204, 0, 0.1));
            border: 2px solid var(--money-green);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .calculator-title {
            font-family: 'Press Start 2P', cursive;
            color: var(--accent-gold);
            text-align: center;
            margin-bottom: 25px;
            font-size: 1em;
        }
        
        .input-section {
            margin-bottom: 25px;
        }
        
        .input-label {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: var(--money-green);
            display: block;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .profile-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .profile-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 204, 68, 0.3);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .profile-card:hover {
            border-color: var(--money-green);
            background: rgba(0, 204, 68, 0.1);
            transform: translateY(-5px);
        }
        
        .profile-card.selected {
            background: var(--money-green);
            color: var(--primary-bg);
            border-color: var(--money-green);
            box-shadow: 0 0 20px var(--money-green);
        }
        
        .profile-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .profile-name {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 5px;
        }
        
        .profile-description {
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .price-input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .price-input {
            text-align: center;
        }
        
        .price-input label {
            display: block;
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }
        
        .price-input input {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            color: var(--text-primary);
            font-family: 'Roboto Mono', monospace;
            text-align: center;
        }
        
        .price-input input:focus {
            border-color: var(--money-green);
            outline: none;
            box-shadow: 0 0 10px rgba(0, 204, 68, 0.3);
        }
        
        .calculate-button {
            background: linear-gradient(45deg, var(--money-green), #00ff66);
            color: var(--primary-bg);
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 25px auto;
            box-shadow: 0 5px 15px rgba(0, 204, 68, 0.3);
        }
        
        .calculate-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 204, 68, 0.4);
        }
        
        /* Results Display */
        .results-display {
            background: rgba(0, 204, 68, 0.1);
            border: 2px solid var(--money-green);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            display: none;
        }
        
        .results-display.show {
            display: block;
            animation: slideUp 0.5s ease;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .savings-amount {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .yearly-savings {
            font-family: 'Orbitron', sans-serif;
            font-size: 3em;
            font-weight: 900;
            color: var(--money-green);
            text-shadow: 0 0 15px var(--money-green);
        }
        
        .savings-label {
            font-size: 1.2em;
            color: var(--text-secondary);
            margin-top: 10px;
        }
        
        .time-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .time-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        .time-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5em;
            font-weight: 700;
            color: var(--accent-gold);
        }
        
        .time-label {
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-top: 5px;
        }
        
        /* Wishlist Generator */
        .wishlist-section {
            background: rgba(255, 204, 0, 0.1);
            border: 2px solid var(--accent-gold);
            border-radius: 10px;
            padding: 20px;
            margin: 25px 0;
        }
        
        .wishlist-title {
            font-family: 'Press Start 2P', cursive;
            color: var(--accent-gold);
            text-align: center;
            margin-bottom: 20px;
            font-size: 0.9em;
        }
        
        .wishlist-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .wishlist-category {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
        }
        
        .category-title {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: var(--accent-gold);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .wishlist-items {
            list-style: none;
            padding: 0;
        }
        
        .wishlist-items li {
            margin: 8px 0;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .wishlist-items li:hover {
            background: rgba(255, 204, 0, 0.2);
            transform: translateX(10px);
        }
        
        .investment-tracker {
            background: rgba(102, 204, 255, 0.1);
            border: 2px solid var(--accent-blue);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .interactive-button {
            background: linear-gradient(45deg, var(--accent-gold), #e6b800);
            color: var(--primary-bg);
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
            box-shadow: 0 3px 10px rgba(255, 204, 0, 0.3);
        }
        
        .interactive-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 204, 0, 0.4);
        }
        
        @media (max-width: 768px) {
            .profile-grid {
                grid-template-columns: 1fr;
            }
            
            .time-breakdown {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .yearly-savings {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üí∞ AHORRO INTELIGENTE</h1>
            <p class="subtitle">Tu Calculadora de Inversi√≥n en Libertad</p>
            <div class="money-badge">üöÄ MONEY SAVER ACTIVATED</div>
        </div>

        <!-- Savings Calculator -->
        <div class="section">
            <h2><span class="icon">üßÆ</span> Calculadora de Tu Ahorro Real</h2>
            
            <div class="savings-calculator">
                <div class="calculator-title">üíé DESCUBRE TU PODER ADQUISITIVO</div>
                
                <div class="input-section">
                    <label class="input-label">üë• Selecciona tu perfil de gasto social:</label>
                    <div class="profile-grid">
                        <div class="profile-card" data-profile="occasional" onclick="selectProfile(this)">
                            <div class="profile-icon">üåô</div>
                            <div class="profile-name">Ocasional</div>
                            <div class="profile-description">1-2 veces por mes</div>
                        </div>
                        <div class="profile-card" data-profile="regular" onclick="selectProfile(this)">
                            <div class="profile-icon">üìÖ</div>
                            <div class="profile-name">Regular</div>
                            <div class="profile-description">Cada fin de semana</div>
                        </div>
                        <div class="profile-card" data-profile="frequent" onclick="selectProfile(this)">
                            <div class="profile-icon">üéâ</div>
                            <div class="profile-name">Frecuente</div>
                            <div class="profile-description">2+ veces por semana</div>
                        </div>
                    </div>
                </div>
                
                <div class="input-section">
                    <label class="input-label">üí∞ Ajusta los precios de tu zona:</label>
                    <div class="price-input-group">
                        <div class="price-input">
                            <label>üç∫ Cerveza en bar</label>
                            <input type="number" id="beerPrice" value="2.50" step="0.10" min="0">
                        </div>
                        <div class="price-input">
                            <label>üçπ Copa combinado</label>
                            <input type="number" id="cocktailPrice" value="6.00" step="0.50" min="0">
                        </div>
                        <div class="price-input">
                            <label>üçæ Botella compartida</label>
                            <input type="number" id="bottlePrice" value="15.00" step="1.00" min="0">
                        </div>
                        <div class="price-input">
                            <label>üöñ Taxi extra (noche)</label>
                            <input type="number" id="taxiPrice" value="8.00" step="0.50" min="0">
                        </div>
                    </div>
                </div>
                
                <button class="calculate-button" onclick="calculateSavings()">
                    üíé CALCULAR MI AHORRO ANUAL
                </button>
            </div>
            
            <div class="results-display" id="resultsDisplay">
                <div class="savings-amount">
                    <div class="yearly-savings" id="yearlySavings">0‚Ç¨</div>
                    <div class="savings-label">Ahorro anual estimado</div>
                </div>
                
                <div class="time-breakdown">
                    <div class="time-item">
                        <div class="time-value" id="monthlySavings">0‚Ç¨</div>
                        <div class="time-label">Por mes</div>
                    </div>
                    <div class="time-item">
                        <div class="time-value" id="weeklySavings">0‚Ç¨</div>
                        <div class="time-label">Por semana</div>
                    </div>
                    <div class="time-item">
                        <div class="time-value" id="dailySavings">0‚Ç¨</div>
                        <div class="time-label">Por d√≠a</div>
                    </div>
                    <div class="time-item">
                        <div class="time-value" id="hourlyEquivalent">0‚Ç¨</div>
                        <div class="time-label">Equivale a trabajar X horas</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Wishlist Generator -->
        <div class="section">
            <h2><span class="icon">üõçÔ∏è</span> Generador de Wishlist Inteligente</h2>
            
            <div class="wishlist-section">
                <div class="wishlist-title">üéØ ¬øQU√â PUEDES COMPRAR CON TU AHORRO?</div>
                
                <div class="wishlist-categories" id="wishlistCategories">
                    <!-- Categories will be populated by JavaScript -->
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="interactive-button" onclick="generatePersonalWishlist()">
                        ‚ú® GENERAR MI WISHLIST PERSONAL
                    </button>
                    <button class="interactive-button" onclick="compareWithFriends()">
                        üë• COMPARAR CON AMIGOS
                    </button>
                </div>
            </div>
        </div>

        <!-- Investment Tracker -->
        <div class="section">
            <h2><span class="icon">üìà</span> Simulador de Inversi√≥n Inteligente</h2>
            
            <div class="investment-tracker">
                <h3 style="color: var(--accent-blue); text-align: center; margin-bottom: 20px;">
                    üöÄ MULTIPLICA TU AHORRO
                </h3>
                
                <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="color: var(--accent-gold); margin-bottom: 15px;">üí° CONCEPTOS B√ÅSICOS DE INVERSI√ìN:</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div style="font-size: 2em; margin-bottom: 10px;">üè¶</div>
                            <div style="font-weight: bold; color: var(--accent-green);">Cuenta Ahorro</div>
                            <div style="font-size: 0.9em;">1-2% anual</div>
                            <div style="font-size: 0.8em; color: var(--text-secondary);">Seguro y l√≠quido</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div style="font-size: 2em; margin-bottom: 10px;">üìä</div>
                            <div style="font-weight: bold; color: var(--accent-blue);">Fondos Indexados</div>
                            <div style="font-size: 0.9em;">5-7% anual promedio</div>
                            <div style="font-size: 0.8em; color: var(--text-secondary);">Riesgo moderado</div>
                        </div>
                        <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <div style="font-size: 2em; margin-bottom: 10px;">üéì</div>
                            <div style="font-weight: bold; color: var(--accent-gold);">Inversi√≥n en ti</div>
                            <div style="font-size: 0.9em;">Retorno incalculable</div>
                            <div style="font-size: 0.8em; color: var(--text-secondary);">Cursos, skills, idiomas</div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="interactive-button" onclick="simulateInvestment()">
                        üìä SIMULAR CRECIMIENTO A 5 A√ëOS
                    </button>
                    <button class="interactive-button" onclick="showInvestmentTips()">
                        üéì TIPS DE INVERSI√ìN PARA ADOLESCENTES
                    </button>
                </div>
            </div>
        </div>

        <!-- Social Sharing -->
        <div class="section">
            <h2><span class="icon">üåü</span> Challenge Comunitario</h2>
            
            <div style="background: rgba(0, 255, 136, 0.1); padding: 20px; border-radius: 10px; border: 2px solid var(--accent-green);">
                <h3 style="color: var(--accent-green); text-align: center; margin-bottom: 15px;">
                    üèÜ RETO: AHORRO COLECTIVO
                </h3>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="font-family: 'Orbitron', sans-serif; font-size: 2em; color: var(--money-green); margin-bottom: 10px;" id="communityGoal">
                        Meta Comunitaria: 50,000‚Ç¨
                    </div>
                    <div style="background: rgba(0,0,0,0.3); height: 20px; border-radius: 10px; overflow: hidden; margin: 15px 0;">
                        <div style="height: 100%; background: linear-gradient(90deg, var(--money-green), var(--accent-green)); width: 34%; border-radius: 10px; transition: width 0.5s ease;" id="communityProgress"></div>
                    </div>
                    <div style="color: var(--text-secondary);">
                        34% completado | <span id="participantCount">127</span> participantes
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="interactive-button" onclick="joinChallenge()">
                        üöÄ UNIRME AL RETO
                    </button>
                    <button class="interactive-button" onclick="shareMyProgress()">
                        üì± COMPARTIR MI PROGRESO
                    </button>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: rgba(255, 204, 0, 0.1); border-radius: 8px;">
                    <h4 style="color: var(--accent-gold); margin-bottom: 10px;">üí™ BENEFICIOS DEL RETO:</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li>‚Ä¢ Motivaci√≥n grupal para mantener objetivos</li>
                        <li>‚Ä¢ Comparar estrategias de ahorro con otros</li>
                        <li>‚Ä¢ Premios y reconocimientos por milestones</li>
                        <li>‚Ä¢ Red de apoyo para decisiones financieras</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 40px; padding: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1); color: var(--text-secondary);">
            <p>üí∞ CONCIENCIA CON CIENCIA LIVE | Educaci√≥n Financiera Adolescente</p>
            <p>Tu dinero, tu futuro, tu decisi√≥n</p>
            <p><strong>¬°Cada euro ahorrado es un paso hacia tu independencia!</strong></p>
        </div>
    </div>

    <script>
        let selectedProfile = null;
        let currentSavings = 0;
        
        const profileMultipliers = {
            occasional: { frequency: 8, drinks: 3, extras: 1.2 },  // 8 veces al mes, 3 bebidas promedio
            regular: { frequency: 16, drinks: 4, extras: 1.5 },   // 16 veces al mes, 4 bebidas promedio  
            frequent: { frequency: 24, drinks: 5, extras: 2.0 }   // 24 veces al mes, 5 bebidas promedio
        };
        
        function selectProfile(element) {
            // Remove previous selection
            document.querySelectorAll('.profile-card').forEach(card => card.classList.remove('selected'));
            // Add selection to clicked card
            element.classList.add('selected');
            selectedProfile = element.getAttribute('data-profile');
        }
        
        function calculateSavings() {
            if (!selectedProfile) {
                alert('‚ö†Ô∏è Por favor, selecciona tu perfil de gasto social');
                return;
            }
            
            // Get price inputs
            const beerPrice = parseFloat(document.getElementById('beerPrice').value) || 2.50;
            const cocktailPrice = parseFloat(document.getElementById('cocktailPrice').value) || 6.00;
            const bottlePrice = parseFloat(document.getElementById('bottlePrice').value) || 15.00;
            const taxiPrice = parseFloat(document.getElementById('taxiPrice').value) || 8.00;
            
            const profile = profileMultipliers[selectedProfile];
            
            // Calculate monthly costs
            const avgDrinkPrice = (beerPrice * 0.4 + cocktailPrice * 0.4 + bottlePrice * 0.2 / 3); // Mixed consumption
            const monthlyDrinkCost = profile.frequency * profile.drinks * avgDrinkPrice;
            const monthlyExtraCost = profile.frequency * taxiPrice * profile.extras;
            const totalMonthlyCost = monthlyDrinkCost + monthlyExtraCost;
            
            // Calculate all timeframes
            currentSavings = Math.round(totalMonthlyCost * 12);
            const monthlySavings = Math.round(totalMonthlyCost);
            const weeklySavings = Math.round(totalMonthlyCost / 4.33);
            const dailySavings = Math.round(totalMonthlyCost / 30);
            const hourlyEquivalent = Math.round(currentSavings / (8 * 52)); // Assuming 8‚Ç¨/hour part-time job
            
            // Update display
            document.getElementById('yearlySavings').textContent = currentSavings + '‚Ç¨';
            document.getElementById('monthlySavings').textContent = monthlySavings + '‚Ç¨';
            document.getElementById('weeklySavings').textContent = weeklySavings + '‚Ç¨';
            document.getElementById('dailySavings').textContent = dailySavings + '‚Ç¨';
            document.getElementById('hourlyEquivalent').textContent = hourlyEquivalent + 'h';
            
            // Show results
            document.getElementById('resultsDisplay').classList.add('show');
            
            // Generate wishlist based on savings
            generateWishlist(currentSavings);
            
            // Scroll to results
            document.getElementById('resultsDisplay').scrollIntoView({ behavior: 'smooth' });
            
            // Track calculation
            trackAction('savings_calculated', { 
                profile: selectedProfile, 
                savings: currentSavings,
                prices: { beer: beerPrice, cocktail: cocktailPrice, bottle: bottlePrice, taxi: taxiPrice }
            });
        }
        
        function generateWishlist(amount) {
            const wishlistContainer = document.getElementById('wishlistCategories');
            let categories = [];
            
            if (amount >= 100 && amount < 500) {
                categories = [
                    {
                        title: `CON ${amount}‚Ç¨ PUEDES:`,
                        items: [
                            'üéÆ Nueva consola de videojuegos',
                            'üì± Accesorios premium para m√≥vil',
                            'üéß Auriculares gaming de alta gama',
                            'üëü Zapatillas de marca que te gustan',
                            'üìö Curso online de tu hobby favorito'
                        ]
                    }
                ];
            } else if (amount >= 500 && amount < 1000) {
                categories = [
                    {
                        title: `CON ${amount}‚Ç¨ PUEDES:`,
                        items: [
                            'üíª Laptop nueva para estudios',
                            'üö≤ Bicicleta el√©ctrica',
                            'üì∑ C√°mara para contenido digital',
                            'üé∏ Instrumento musical de calidad',
                            '‚úàÔ∏è Viaje fin de semana con amigos'
                        ]
                    }
                ];
            } else if (amount >= 1000) {
                categories = [
                    {
                        title: `CON ${amount}‚Ç¨ PUEDES:`,
                        items: [
                            'üöó Carnet de conducir completo',
                            'üíª MacBook para estudios/creatividad',
                            'üåç Viaje Europa con InterRail',
                            'üìà Invertir en tu futuro financiero',
                            'üéì Curso de especializaci√≥n profesional'
                        ]
                    }
                ];
            } else {
                categories = [
                    {
                        title: 'SELECCIONA TU PERFIL PARA VER OPCIONES',
                        items: ['Calcula tu ahorro primero para ver las posibilidades']
                    }
                ];
            }
            
            wishlistContainer.innerHTML = '';
            categories.forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'wishlist-category';
                
                categoryDiv.innerHTML = `
                    <div class="category-title">${category.title}</div>
                    <ul class="wishlist-items">
                        ${category.items.map(item => `<li onclick="selectWishlistItem(this)">${item}</li>`).join('')}
                    </ul>
                `;
                
                wishlistContainer.appendChild(categoryDiv);
            });
        }
        
        function selectWishlistItem(element) {
            const item = element.textContent;
            element.style.background = 'rgba(0, 255, 136, 0.3)';
            setTimeout(() => {
                element.style.background = 'rgba(255, 255, 255, 0.05)';
            }, 1000);
            
            // Add to personal wishlist
            let personalWishlist = JSON.parse(localStorage.getItem('personalWishlist') || '[]');
            if (!personalWishlist.includes(item)) {
                personalWishlist.push(item);
                localStorage.setItem('personalWishlist', JSON.stringify(personalWishlist));
                
                // Show feedback
                alert('‚úÖ A√±adido a tu wishlist personal: ' + item);
            }
        }
        
        function generatePersonalWishlist() {
            const personalWishlist = JSON.parse(localStorage.getItem('personalWishlist') || '[]');
            
            if (personalWishlist.length === 0) {
                alert('üéØ Primero selecciona algunos art√≠culos de las categor√≠as para crear tu wishlist personal');
                return;
            }
            
            let wishlistText = 'üåü TU WISHLIST PERSONAL:\n\n';
            personalWishlist.forEach((item, index) => {
                wishlistText += `${index + 1}. ${item}\n`;
            });
            wishlistText += `\nüí∞ Ahorro actual: ${currentSavings}‚Ç¨\n`;
            wishlistText += 'üéØ ¬°Mant√©n el rumbo hacia tus objetivos!';
            
            alert(wishlistText);
        }
        
        function compareWithFriends() {
            const avgSavings = 680; // Promedio simulado
            const comparison = currentSavings > avgSavings ? 
                `üèÜ ¬°Est√°s ${currentSavings - avgSavings}‚Ç¨ por encima del promedio!` :
                `üìà Puedes ahorrar ${avgSavings - currentSavings}‚Ç¨ m√°s para estar en la media`;
            
            alert(`üë• COMPARACI√ìN CON OTROS ADOLESCENTES:\n\nTu ahorro: ${currentSavings}‚Ç¨\nPromedio comunidad: ${avgSavings}‚Ç¨\n\n${comparison}\n\nüéØ ¬°Cada euro cuenta para tu futuro!`);
        }
        
        function simulateInvestment() {
            if (currentSavings === 0) {
                alert('‚ö†Ô∏è Primero calcula tu ahorro para ver la simulaci√≥n de inversi√≥n');
                return;
            }
            
            const conservative = Math.round(currentSavings * Math.pow(1.02, 5)); // 2% anual
            const moderate = Math.round(currentSavings * Math.pow(1.06, 5)); // 6% anual
            const aggressive = Math.round(currentSavings * Math.pow(1.09, 5)); // 9% anual
            
            const simulationText = `üìä SIMULACI√ìN DE INVERSI√ìN A 5 A√ëOS:\n\nInversi√≥n inicial: ${currentSavings}‚Ç¨\n\nüè¶ Conservadora (2% anual): ${conservative}‚Ç¨\nüìà Moderada (6% anual): ${moderate}‚Ç¨\nüöÄ Agresiva (9% anual): ${aggressive}‚Ç¨\n\nüí° RECUERDA:\n‚Ä¢ Diversifica siempre tus inversiones\n‚Ä¢ Nunca inviertas m√°s de lo que puedes permitirte perder\n‚Ä¢ La educaci√≥n financiera es tu mejor inversi√≥n`;
            
            alert(simulationText);
        }
        
        function showInvestmentTips() {
            const tips = `üéì TIPS DE INVERSI√ìN PARA ADOLESCENTES:\n\n1. üìö ED√öCATE PRIMERO\n‚Ä¢ Lee libros sobre finanzas personales\n‚Ä¢ Sigue canales educativos de inversi√≥n\n‚Ä¢ Practica con simuladores antes de invertir\n\n2. üí∞ EMPIEZA PEQUE√ëO\n‚Ä¢ Comienza con cuentas de ahorro\n‚Ä¢ Considera fondos indexados de bajo coste\n‚Ä¢ Nunca inviertas dinero que necesitas\n\n3. ‚è∞ PIENSA A LARGO PLAZO\n‚Ä¢ El tiempo es tu mayor aliado\n‚Ä¢ La paciencia multiplica el dinero\n‚Ä¢ Evita intentar "timing" del mercado\n\n4. üîí SEGURIDAD PRIMERO\n‚Ä¢ Siempre con supervisi√≥n de adultos\n‚Ä¢ Usa plataformas reguladas\n‚Ä¢ Ten un fondo de emergencia\n\n5. üéØ INVIERTE EN TI\n‚Ä¢ Cursos y formaci√≥n\n‚Ä¢ Idiomas y habilidades\n‚Ä¢ Tu educaci√≥n es la mejor inversi√≥n`;
            
            alert(tips);
        }
        
        function joinChallenge() {
            let participantCount = parseInt(document.getElementById('participantCount').textContent);
            participantCount++;
            document.getElementById('participantCount').textContent = participantCount;
            
            // Update progress slightly
            const progressBar = document.getElementById('communityProgress');
            const currentWidth = parseInt(progressBar.style.width) || 34;
            const newWidth = Math.min(currentWidth + 0.1, 100);
            progressBar.style.width = newWidth + '%';
            
            alert('üéâ ¬°Te has unido al reto comunitario!\n\nRecuerda:\n‚Ä¢ Comparte tu progreso semanalmente\n‚Ä¢ Apoya a otros participantes\n‚Ä¢ Celebra cada milestone alcanzado\n\n¬°Juntos somos m√°s fuertes!');
            
            trackAction('challenge_joined', { savings: currentSavings });
        }
        
        function shareMyProgress() {
            if (currentSavings === 0) {
                alert('‚ö†Ô∏è Primero calcula tu ahorro para compartir tu progreso');
                return;
            }
            
            const shareText = `üöÄ Mi ahorro inteligente sin alcohol: ${currentSavings}‚Ç¨/a√±o\n\nüí™ Invirtiendo en mi futuro mientras me divierto de forma natural\n\n#ConcienciaConCiencia #AhorroInteligente #ModeLeyenda`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Mi Ahorro Inteligente',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('‚úÖ Texto copiado para compartir en tus redes sociales');
                });
            }
        }
        
        function trackAction(action, data = {}) {
            console.log('Action tracked:', action, data);
            // En implementaci√≥n real, enviar a analytics
        }
        
        // Initialize with sample data
        window.onload = function() {
            generateWishlist(0);
        };
    </script>
</body>
</html>
